<div *ngIf="errors">
    <div class="alert alert-danger" *ngFor="let message of errors">{{message}}</div>
</div>

<div *ngIf="success">
    <div class="alert alert-success" *ngFor="let message of success">{{message}}</div>
</div>

<div class="p-2">
    <h3>Upload Media</h3>

    <img [src]="imageUrl"  width="200px" class="rounded-circle">

    <form class="p-3" [formGroup]="mediaForm" (ngSubmit)="onUpload()" enctype="multipart/form-data">
        
        <div class="mb-3 mt-3">
            <label for="profilePic" class="form-label" >Profile Pic</label>
            <input type="file" formControlName="profilePic"  id="profilePic" (change)="onChangeImage($event)" class="form-control">

            <span *ngIf="!mediaForm.get('profilePic').valid">
                <span *ngIf="mediaForm.get('profilePic').errors['extensionNotAllowd']">
                    Allowed extensions are {{allowedImageExtensions}}
                </span>
            </span>
        </div>

        <div class="mb-3 mb-3">
            <label for="someVideo" class="form-label">Some Video</label>
            <input type="file" (change)="onChangeVideo($event)" formControlName="someVideo" id="someVideo" class="form-control">

            <span *ngIf="!mediaForm.get('someVideo').valid">
                <span *ngIf="mediaForm.get('someVideo').errors['extensionNotAllowd']">
                    Allowed extensions are {{allowedVideoExtensions}}
                </span>
            </span>
        </div>

        <div class="mb-3 mt-3">
            <label for="someDocument" class="form-label">Some Document</label>
            <input type="file" formControlName="someDocument" (change)="onChangeDocument($event)" id="someDocument" class="form-control">

            <span *ngIf="!mediaForm.get('someDocument').valid">
                <span *ngIf="mediaForm.get('someDocument').errors['extensionNotAllowd']">
                    Allowed extensions are {{allowedDocumentsExtensions}}
                </span>
            </span>
        </div>

        <div class="mb-3 mt-3">
            <button type="submit" class="btn btn-outline-primary" [disabled]="!mediaForm.valid">Upload</button>
        </div>
    </form>

    <video *ngIf="videoName" [src]="videoUrl" width="400px" controls ></video>

</div>